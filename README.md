ЦИК Инфо | Удобный просмотр статистики избиркома

Требуются Python3, pip и MongoDB

# Установка и запуск

## Установка необходимых компонентов

Установка необходимых компонентов в Ubuntu или Debian:

`sudo apt install build-essential python3-dev python3-pip mongodb`

`sudo pip3 install venv`

## Создание виртуального окружения

В папке с проектом создаётся виртуальное окружение командой:

`python3 -m venv .`

Активация:

`source bin/activate`

Установка необходимых python-пакетов в виртуальное окружение:

`pip install -r requirements.txt`

## Работа с проектом

Для активации виртуального окружения необходимо выполнить

`source bin/activate`

Запуск скрипта (выводит список возможных аргументов):

`python __main__.py --help`

Пример использования:

`python __main__.py update --date=2018-09-09 --region="Белгородская область", -y"`

**Важно**: Когда вы закончили работу в виртуальном окружении проекта,
перед переключением в глобальное окружение или другое виртуальное,
его сперва нужно деактивировать:

`deactivate`




# TODO
# Далее устаревшая информация

# Закрузка данных

В main.py необходимо указать параметры для загружаемых данных.

Константы:

1. ELECTION_NAME - Название или тип выборов. Например, "Выборы Президента Российской Федерации"
2. ELECTION_DATE - Строковое представление даты проведения выборов на русском языке. Например, "18 марта 2018 года"
3. START_URL - Ссылка на основную страницу этих выборов на ГАС Выборы. Например, "http://www.vybory.izbirkom.ru/region/izbirkom?action=show&global=1&vrn=100100084849062&region=0&prver=0&pronetvd=null"

Все эти данные можно получить на http://www.vybory.izbirkom.ru

Можно также загрузить файл cik.sqlite в папку с программой с сайта http://gis-lab.info/qa/cik-data.html для получения данных о адресах УИКов.

Далее запускаем main.py и ждём несколько часов до полной загрузки. Прогресс-бар будет отображать примерное время до завершения.

## Дампы базы данных

Другой вариант - скачать уже подготовленную базу данных.

https://mega.nz/#F!DHwkVDAb!KVIl2vaizVPt43nV9JuT1A